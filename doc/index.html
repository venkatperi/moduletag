<!DOCTYPE html><html lang="en"><head><title>index</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content=""><meta name="groc-document-path" content="index"><meta name="groc-project-path" content="README.md"><link rel="stylesheet" type="text/css" media="all" href="assets/style.css"><script type="text/javascript" src="assets/behavior.js"></script><body><div id="meta"><div class="file-path">README.md</div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><h1 id="moduletag">moduletag</h1>
<p>Creates a string <code>tag</code> for a given file/module which can be used for output generated by the module, e.g. in logs.</p>
<p>The format for a <code>moduletag</code> is:</p>
<pre><code>&lt;moduletag&gt; ::= &lt;package path&gt; : &lt;filetag&gt;
&lt;filetag&gt; ::= &lt;relative path to module&gt; / &lt;filename without ext&gt;</code></pre>
<ul>
<li><code>&lt;package path&gt;</code> is forward-slash separated string of the file&#39;s package, and any other packages up the directory tree, e.g. for when the package is installed as a dependency of another package.</li>
<li><code>&lt;filetag&gt;</code> is the relative path and filename (without extension) of the module file from the enclosing package&#39;s directory.</li>
</ul>
<p>Uses <code>pkginfo-async</code> to retrieve the module&#39;s package information.</p>
<h2 id="installation">Installation</h2>
<p>Install with npm</p>
<pre><code>npm install moduletag</code></pre>
<h2 id="example">Example</h2>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> moduletag = <span class="hljs-built_in">require</span>(<span class="hljs-string">"moduletag"</span>)

moduletag( <span class="hljs-built_in">module</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"> err, pkg </span>) </span>{
  <span class="hljs-comment">// err is an error object or null.</span>
  <span class="hljs-comment">// pkg is the contents of the package.json or null</span>
})</code></pre>
<p>Here&#39;s the tag for the main file in <code>moduletag</code></p>
<pre><code>moduletag:lib/moduletag</code></pre>
<h2 id="moduletagfile-cb">moduletag(file, cb)</h2>
<ul>
<li><code>file</code> <code>{String | Object}</code><ul>
<li><code>{String}</code> filename  </li>
<li><code>{Object}</code> nodejs module object of the file</li>
</ul>
</li>
<li><code>cb</code> <code>{Function(err, pkg)}</code><ul>
<li><code>err</code> <code>{Error | null}</code></li>
<li><code>tag</code> <code>{Object | null}</code> the generated tag</li>
</ul>
</li>
<li>Returns a promise which resolves with the generated tag</li>
</ul>
<p>Creates a tag for the given module/file.</p></div></div></div></div></body></html>